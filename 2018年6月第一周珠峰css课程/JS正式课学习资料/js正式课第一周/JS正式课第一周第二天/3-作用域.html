<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="" name="Keywords">
    <meta content="" name="description">
    <title>作用域</title>
    <link rel="icon" href="">

</head>
<body>
<div id="div1">作用域</div>

</body>
</html>
<script>

    var ary=[1,2,3];
    function sum(arr) {
        arr[0]=10;
        console.log(ary);//[10,2,3]
        arr=[2,2,3];//把arr 的地址改变了
        return arr

    }
    sum(ary);//[2,2,3]
    console.log(ary);// [10,2,3]

    /*
    *堆内存
    * 栈内存
    * 作用域  函数执行开辟一个栈内存（作用域）
    * 私有作用域   --->函数执行都会形成一个私有作用域
    * 全局作用域   ---->页面一打开就会形成一个全局的作用域
    * 私有变量     ----> 在私有作用域里边形成的变量(通过var 声明的；形参)
    * 全局变量    -----> 在全局作用域里边形成的变量（var ; a=12）
    *
    * 作用域链
    * 每一个私有作用域都会有它的上级作用域， 他的上级作用域跟他在哪定义的有关系
    *
    *
    * */
    //函数执行的一个过程
    //函数执行，先开辟一个私有作用域
    //然后再进行变量提升 （var function提前声明，先形参赋值，再变量提升）
    //代码从上到下 依次执行

//练习题
    console.log(a);//undefined
    var a=12;
    function fn(){
        console.log(a);//undefined
        var a=13;
        return a = 13;
    }
    // a = fn();
    console.log(fn());
    console.log(a);
//-------------------
    console.log(a);//undefined
    var a=12;
    function fn(){
        console.log(a);//12
        a=13
    }
    fn();
    console.log(a);//13
//--------------------------
    console.log(a);
    a=12;
    function fn(){
        console.log(a);
        var a = 13;
    }
    fn();
    console.log(a);
//----------------------------------


var foo=1;
    function bar() {
        // 不管条件是否成立 都要进行变量提升
        // 这时的foo 属于私有变量 给的默认值是undefined
        if(!foo){
            var foo=10;
        }
        console.log(foo);//10
    }
bar();

    //-------------------------

    var n=13;
    function fn(n) {
        alert(n); //undefined
        var n=14;
        alert(n);//14
    }
    fn();
    console.log(n);//13
    //------------------------

    var n=13;
    function fn(n) {
        alert(n); //13
        var n=14;
        alert(n);//14
    }
    fn(n);// 传参n =13
    console.log(n);//13

    //--------------------------

    var n = 10;
    function outer(){
        var n = 15;
        function inner(){
            function center(){
                alert(n);//15
            }
            center();
        }
        inner();
    }
    outer();
//---------------------------------
    var n = 10;
    function outer(){
        function inner(){
            function center(){
                alert(n);//undefined
            }
            center();

        }
        inner();
        var n = 15;
    }
    outer();
//----------------------------------------------

    var n=0;
    function a() {
        var n=10;
        function b() {
            n++;
            alert(n);//11
        }
        b();
    }
 a();
    alert(n);//0

//-----------------------------

    var n=0;
    function b() {
        n++;
    alert(n);
    }
        function a() {
            var n=10;
             b();
    }
    // 函数的上级作用域 只跟函数在哪个作用域定义的有关系
    //跟函数在哪执行 没有任何关系
    b();//1
    a();//2
    alert(n);//2

    //--------------------------------------------------
    console.log(str,num);//undefined  undefined
    var num=18;
    var str="lily";
    function fn2() {
        console.log(str,num);// "lily"  undefined
        num=19;
        str="candy";
        var num=14;
        console.log(str,num);//"candy" 14
    }
    fn2();
    console.log(str,num);//"candy" 18

    //--------------------------------------------
    // []==![]  --> []==false -->引用数据类型数组先 []toString()一下 --》‘’==false -->0==0  //true





</script>