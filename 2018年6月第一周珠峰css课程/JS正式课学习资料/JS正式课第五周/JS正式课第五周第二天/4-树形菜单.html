<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="" name="Keywords">
    <meta content="" name="description">
    <title>Title</title>
    <link rel="icon" href="">
   <style>
   ul li{
       line-height: 40px;
   }


   </style>
</head>
<body>
<ul id="box">
    <li><span>一级菜单1</span>
        <ul>
            <li>
                <span>二级菜单1</span>
            </li>
            <li>
                <span>二级菜单2</span>
                <ul>
                    <li>
                        <span>三级菜单1</span>
                    </li>
                    <li>
                    <span>三级菜单2</span>
                    </li>
                </ul>
            </li>
        </ul>
    </li>
    <li><span>一级菜单2</span>
        <ul>
            <li>
                <span>二级菜单1</span>
            </li>
            <li>
                <span>二级菜单2</span>
                <ul>
                    <li>
                        <span>三级菜单1</span>
                    </li>
                    <li>
                        <span>三级菜单2</span>
                    </li>
                </ul>
            </li>
        </ul>
    </li>
    <li><span>一级菜单3</span>
        <ul>
            <li>
                <span>二级菜单1</span>
            </li>
            <li>
                <span>二级菜单2</span>
                <ul>
                    <li>
                        <span>三级菜单1</span>
                    </li>
                    <li>
                        <span>三级菜单2</span>
                    </li>
                </ul>
            </li>
        </ul>
    </li>
 </ul>

</body>
</html>
<script>

//var oSpans = document.querySelectorAll('#box li span');//获的15个span
//var box = document.querySelector('#box');
//console.log(oSpans);
//var ary = [...oSpans];
//ary.forEach((item,index)=>{
//    var oul = item.nextElementSibling;
//    if(oul&&oul.nodeName.toLowerCase() == 'ul'){
//        oul.style.display = 'none';
//    }
//});
//box.onclick = function (e) {
//    e = e || window.event;
//    var tar = e.target || e.srcElement;
//    if(tar.nodeName.toLowerCase() == 'span'){
//        var oul = tar.nextElementSibling;
//        if(oul&&oul.nodeName.toLowerCase() == 'ul'){
//            if(oul.style.display == 'none'){
//                oul.style.display = 'block';
//            }else {
//                oul.style.display = 'none';
//                [...oul.querySelectorAll('ul')].forEach((item)=>{
//                    item.style.display = 'none';
//                })
//            }
//        }
//    }
//}

   var box=document.getElementById('box'),
           oSpan=document.getElementsByTagName('span');
    [...oSpan].forEach((item,index)=>{
        // item 是每一个span ;目标是让span的弟弟 ul 遮住 display none
        var oUl=item.nextElementSibling;
        if(oUl&&oUl.nodeName.toLowerCase()=='ul'){
            oUl.style.display='none'
        }
    })
box.onclick=function (e) {
        e=e||window.event;
    var tar=e.target||e.srcElement;
    // tar 是事件源 ；判断事件源是不是span
    // 若是 span 我们要让他的弟弟 展开或者 遮住
    if(tar.nodeName.toLowerCase()=='span'){
        var oUl=tar.nextElementSibling;
        if(oUl&&oUl.nodeName.toLowerCase()=='ul'){
            if( oUl.style.display=='none'){
                oUl.style.display='block' ;
            }else {
                oUl.style.display='none';
                var uls=oUl.querySelectorAll('ul');
                [...uls].forEach((item,index)=>{
                    item.style.display='none';
                })
            }
        }
    }
}


//var $box=$('#box'),
//     $oSpan=$('#box span');
//    $.each($oSpan,function (index,item) {
//        var $oUl=$(item).next();
//        if($oUl.length){
//            $oUl.hide();
//        }
//    });
//    $box.on('click',function (ev) {
//        var $tar=$(ev.target);
//        if($tar[0].nodeName.toLowerCase()=='span'){
//            var $oUl=$tar.next();
//            if($oUl.length){
//                if($oUl.css('display')=='none'){
//                    $oUl.show();
//                }else {
//                    $oUl.hide();
//                    $oUl.find('ul').hide();
//                }
//            }
//        }
//    })




</script>